(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-298d"],{"2iqj":function(t,e,r){"use strict";var a=r("TCcW");r.n(a).a},CjlV:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[t.id?t._e():r("div",{staticClass:"steps-container"},[r("el-steps",{attrs:{active:0,"finish-status":"success"}},[r("el-step",{attrs:{title:"创建表单"}}),t._v(" "),r("el-step",{attrs:{title:"上传文件"}}),t._v(" "),r("el-step",{attrs:{title:"提交审核"}})],1)],1),t._v(" "),r("el-form",{ref:"editForm",staticClass:"edit-form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"名称",prop:"appName"}},[r("el-input",{staticStyle:{width:"320px"},attrs:{placeholder:"最多输入30个字",maxlength:30},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"appPackage"}},[r("el-input",{staticStyle:{width:"320px"},attrs:{disabled:!!t.id,maxlength:200,placeholder:"填写类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"提供方",prop:"appProvider"}},[r("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"320px"},attrs:{maxlength:200,placeholder:"查找已有公司或添加新公司"},model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"搜索平台",prop:"platforms"}},[r("el-select",{staticStyle:{width:"320px"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"自定义关键字"},model:{value:t.form.platforms,callback:function(e){t.$set(t.form,"platforms",e)},expression:"form.platforms"}},t._l(t.searchKeys,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),r("el-form-item",{attrs:{label:"简介",prop:"content_short"}},[r("el-input",{attrs:{type:"text",maxlength:50,placeholder:"一句话描述"},model:{value:t.form.content_short,callback:function(e){t.$set(t.form,"content_short",e)},expression:"form.content_short"}}),t._v(" "),r("span",{staticStyle:{"font-size":"12px",color:"#606266"}},[t._v("此内容会显示在名称的下方")])],1),t._v(" "),r("el-form-item",{attrs:{label:"详情介绍",prop:"appDesc"}},[r("el-input",{attrs:{type:"textarea",minlength:10,maxlength:500,autosize:{minRows:3},placeholder:"输入10~500字"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v(t._s(t.id?"保存修改":"立即创建"))]),t._v(" "),r("el-button",{on:{click:t.linkBack}},[t._v("返回")])],1)],1)],1)};a._withStripped=!0;var l=r("JCNI"),s={data:function(){return{form:{title:"",type:"",author:"",platforms:[],content_short:"",content:""},searchKeys:[],rules:{title:[{required:!0,message:"请输入名称",trigger:"blur"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}],author:[{required:!0,message:"请输入作者",trigger:"blur"},{max:200,message:"长度在 200 个字符以内",trigger:"blur"}],content:[{type:"string",required:!0,message:"请输入详情介绍",trigger:"blur"},{max:200,message:"长度在 200 个字符以内",trigger:"blur"}],platforms:[{type:"array",required:!0,message:"请至少输入一个搜索关键字",trigger:"blur"}],content_short:[{required:!0,message:"请输入一句话简介",trigger:"blur"},{max:50,message:"长度在 50 个字符以内",trigger:"blur"}]}}},props:["id"],mounted:function(){this.fetchDetail()},methods:{submitForm:function(){var t=this;this.$refs.editForm.validate(function(e){e&&(t.id?(t.form.id=t.id,Object(l.d)(t.form).then(function(){t.$message({message:"更新成功",type:"success"})})):Object(l.a)(t.form).then(function(e){t.$message({message:"添加成功",type:"success"})}))})},fetchDetail:function(){var t=this;this.id&&Object(l.b)(this.id).then(function(e){e.data&&(t.form=e.data)})},linkBack:function(){this.$router.go(-1)}}},o=(r("2iqj"),r("KHd+")),i=Object(o.a)(s,a,[],!1,null,null,null);i.options.__file="src/views/examples/form/edit.vue";e.default=i.exports},JCNI:function(t,e,r){"use strict";r.d(e,"c",function(){return l}),r.d(e,"b",function(){return s}),r.d(e,"a",function(){return o}),r.d(e,"d",function(){return i});var a=r("t3Un");function l(t){return Object(a.a)({url:"/article/list",method:"get",params:t})}function s(t){return Object(a.a)({url:"/article/detail",method:"get",params:{id:t}})}function o(t){return Object(a.a)({url:"/article/create",method:"post",data:t})}function i(t){return Object(a.a)({url:"/article/update",method:"post",data:t})}},TCcW:function(t,e,r){}}]);