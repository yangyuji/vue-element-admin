(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{"+YJU":function(t,e,n){},"/lx2":function(t,e,n){"use strict";var i=n("qLZd");n.n(i).a},"1Dam":function(t,e,n){"use strict";var i=n("jFF7");n.n(i).a},"7Qib":function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});var i=n("EJiy"),a=n.n(i);function o(t,e){if(0===arguments.length)return null;var n=e||"{y}-{m}-{d} {h}:{i}:{s}",i=void 0;"object"===(void 0===t?"undefined":a()(t))?i=t:(10===(""+t).length&&(t=1e3*parseInt(t)),i=new Date(t));var o={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),a:i.getDay()};return n.replace(/{(y|m|d|h|i|s|a)+}/g,function(t,e){var n=o[e];return"a"===e?["一","二","三","四","五","六","日"][n-1]:(t.length>0&&n<10&&(n="0"+n),n||0)})}function r(t){var e=t.split("?")[1];return e?JSON.parse('{"'+decodeURIComponent(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}}},Q2AE:function(t,e,n){"use strict";var i=n("oCYn"),a=n("L2JU"),o=n("p46w"),r=n.n(o),s={state:{sidebar:{opened:!+r.a.get("sidebarStatus")}},mutations:{TOGGLE_SIDEBAR:function(t){t.sidebar.opened?r.a.set("sidebarStatus",1):r.a.set("sidebarStatus",0),t.sidebar.opened=!t.sidebar.opened}},actions:{ToggleSideBar:function(t){(0,t.commit)("TOGGLE_SIDEBAR")}}},c=n("4d7F"),u=n.n(c);var l=n("X4fA"),d={state:{token:Object(l.a)(),name:"",roles:[]},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_NAME:function(t,e){t.name=e},SET_ROLES:function(t,e){t.roles=e}},actions:{Login:function(t,e){var n=t.commit;e.username.trim();return new u.a(function(t,i){(e.password,new u.a(function(t,e){t({code:"0000",data:{roles:["admin"],token:"admin",introduction:"我是超级管理员",name:"Super Admin"},msg:"string"})})).then(function(e){var i=e.data;Object(l.c)(i.token),n("SET_TOKEN",i.token),t()}).catch(function(t){i(t)})})},GetInfo:function(t){var e=t.commit,n=t.state;return new u.a(function(t,i){(n.token,new u.a(function(t,e){t({code:"0000",data:{roles:["admin"],role:"admin",token:"admin",name:"admin"},msg:"string"})})).then(function(n){var i=n.data;e("SET_ROLES",i.roles),e("SET_NAME",i.name),t(n)}).catch(function(t){i(t)})})},LogOut:function(t){var e=t.commit,n=t.state;return new u.a(function(t,i){(n.token,new u.a(function(t,e){t({code:"0000",data:null,msg:"success"})})).then(function(){e("SET_TOKEN",""),e("SET_ROLES",[]),Object(l.b)(),t()}).catch(function(t){i(t)})})},FedLogOut:function(t){var e=t.commit;return new u.a(function(t){e("SET_TOKEN",""),Object(l.b)(),t()})}}},p=n("oYx3");var m={state:{routers:p.b,addRouters:[]},mutations:{SET_ROUTERS:function(t,e){t.addRouters=e,t.routers=p.b.concat(e),console.log("state.routers",t.routers)}},actions:{GenerateRoutes:function(t,e){var n=t.commit;return new u.a(function(t){var i=e.roles;if(i){var a=void 0;a=i.indexOf("admin")>=0?p.a:function t(e,n){return e.filter(function(e){return!!function(t,e){return!e.meta||!e.meta.roles||t.some(function(t){return e.meta.roles.indexOf(t)>=0})}(n,e)&&(e.children&&e.children.length&&(e.children=t(e.children,n)),!0)})}(p.a,i),n("SET_ROUTERS",a),t()}})}}},f={sidebar:function(t){return t.app.sidebar},visitedViews:function(t){return t.app.visitedViews},token:function(t){return t.user.token},name:function(t){return t.user.name},introduction:function(t){return t.user.introduction},status:function(t){return t.user.status},roles:function(t){return t.user.roles},resource:function(t){return t.user.resource},setting:function(t){return t.user.setting},permission_routers:function(t){return t.permission.routers},addRouters:function(t){return t.permission.addRouters}};i.default.use(a.a);var h=new a.a.Store({modules:{app:s,user:d,permission:m},getters:f});e.a=h},RjuL:function(t,e,n){"use strict";var i=n("Zyom");n.n(i).a},TVPU:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);var i=n("oCYn"),a=(n("9d8Q"),n("XJYT")),o=n.n(a),r=(n("D66Q"),n("sg+I"),n("NMd3"),{name:"App",data:function(){return{}}}),s=(n("RjuL"),n("KHd+")),c=Object(s.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"rotate-fall"}},[e("div",{attrs:{id:"app"}},[e("router-view",{staticClass:"app-router-view"})],1)])},[],!1,null,"735f6964",null);c.options.__file="App.vue";for(var u=c.exports,l=n("oYx3"),d=n("Q2AE"),p=n("luuv"),m=n.n(p),f=n("7Qib"),h={admin:{roles:["admin"],token:"admin",introduction:"我是超级管理员",name:"Super Admin"},editor:{roles:["editor"],token:"editor",introduction:"我是编辑",name:"Normal Editor"}},g=function(t){var e=JSON.parse(t.body).username;return h[e]},v=function(t){var e=Object(f.a)(t.url).token;return!!h[e]&&h[e]},_=function(){return{code:"0000",data:null,msg:"success"}},b=n("FyfS"),y=n.n(b),O=[],w=0;w<92;w++)O.push(m.a.mock({id:"@increment",timestamp:+m.a.Random.date("T"),author:"@first",reviewer:"@first",title:"@title(5, 10)",content_short:"我是测试数据",content:'<p>我是测试数据我是测试数据</p><p><img src="https://wpimg.wallstcn.com/4c69009c-0fd4-4153-b112-6cb53d1cf943"></p>',forecast:"@float(0, 100, 2, 2)",importance:"@integer(1, 3)","type|1":["CN","US","JP","EU"],"status|1":["published","draft","deleted"],display_time:"@datetime",comment_disabled:!0,pageviews:"@integer(300, 5000)",image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]}));var k=function(t){var e=Object(f.a)(t.url),n=e.importance,i=e.status,a=e.title,o=e.pageNo,r=void 0===o?1:o,s=e.pageSize,c=void 0===s?10:s,u=e.sort,l=O.filter(function(t){return(!n||t.importance===+n)&&((!i||t.status===i)&&!(a&&t.title.indexOf(a)<0))});"-id"===u&&(l=l.reverse());var d=l.filter(function(t,e){return e<c*r&&e>=c*(r-1)});return{code:"0000",data:{total:l.length,list:d},msg:"success"}},x=function(t){var e=Object(f.a)(t.url).id,n=!0,i=!1,a=void 0;try{for(var o,r=y()(O);!(n=(o=r.next()).done);n=!0){var s=o.value;if(s.id===+e)return{code:"0000",data:s,msg:""}}}catch(t){i=!0,a=t}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}},E=function(){return{code:"0000",data:null,msg:"success"}},S=function(){return{code:"0000",data:null,msg:"success"}};m.a.setup({timeout:"350-800"}),m.a.XHR.prototype.proxy_send=m.a.XHR.prototype.send,m.a.XHR.prototype.send=function(){this.custom.xhr&&(this.custom.xhr.withCredentials=this.withCredentials||!1),this.proxy_send.apply(this,arguments)},m.a.mock(/\/login\/login/,"post",g),m.a.mock(/\/login\/logout/,"post",_),m.a.mock(/\/user\/info\.*/,"get",v),m.a.mock(/\/article\/list/,"get",k),m.a.mock(/\/article\/detail/,"get",x),m.a.mock(/\/article\/create/,"post",E),m.a.mock(/\/article\/update/,"post",S);m.a;var j=n("QbLZ"),C=n.n(j),T=n("Mj6V"),$=n.n(T),R=(n("pdi6"),n("X4fA"));var L=["/login","/authredirect"];l.c.beforeEach(function(t,e,n){var i,o;$.a.start(),Object(R.a)()?"/login"===t.path?(n({path:"/"}),$.a.done()):(console.log("from",e),console.log("to",t),0===d.a.getters.roles.length?(console.log("用户是否已拉取完user_info信息",d.a.getters.roles),d.a.dispatch("GetInfo").then(function(e){console.log("GetInfo",e);var i=d.a.getters.roles;console.log("roles",i),d.a.dispatch("GenerateRoutes",{roles:i}).then(function(){l.c.addRoutes(d.a.getters.addRouters),console.log("getters.addRouters",d.a.getters.addRouters),n(C()({},t))})}).catch(function(){d.a.dispatch("FedLogOut").then(function(){a.Message.error("验证失败,请重新登录"),n({path:"/login"})})})):(console.log("没有动态改变权限的需求可直接next() 删除下方权限判断 ↓",d.a.getters.roles,t.meta.role),i=d.a.getters.roles,o=t.meta.role,i.indexOf("admin")>=0||!o||i.some(function(t){return o.indexOf(t)>=0})?(console.log("hasPermission roles",d.a.getters.roles),n()):(n({path:"/404",query:{noGoBack:!0}}),$.a.done()))):-1!==L.indexOf(t.path)?n():(n("/login"),$.a.done())}),l.c.afterEach(function(){$.a.done()});var A=n("t3Un");i.default.config.errorHandler=function(t,e,n){console.log(t,window.location.href);var i,a=function(t){if(t.$root===t)return"root";var e=t._isVue?t.$options&&t.$options.name||t.$options&&t.$options._componentTag:t.name;return(e?"component <"+e+">":"anonymous component")+(t._isVue&&t.$options&&t.$options.__file?" at "+(t.$options&&t.$options.__file):"")}(e),o=e.$options&&e.$options.propsData;i={component:a,props:o,url:window.location.href,err:t,info:n},Object(A.a)({url:"/debug/post",method:"post",data:i})},i.default.use(o.a,{size:"small"}),i.default.config.productionTip=!1,new i.default({el:"#app",router:l.c,store:d.a,template:"<App/>",components:{App:u}})},X4fA:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return c});var i=n("p46w"),a=n.n(i),o="Admin-Token";function r(){return a.a.get(o)}function s(t){return a.a.set(o,t,{expires:1})}function c(){return a.a.remove(o)}},X5t9:function(t,e,n){},Zyom:function(t,e,n){},dJOx:function(t,e,n){"use strict";var i=n("+YJU");n.n(i).a},ghEq:function(t,e,n){"use strict";var i=n("TVPU");n.n(i).a},jFF7:function(t,e,n){},ljKg:function(t,e,n){"use strict";var i=n("vfBu");n.n(i).a},oYx3:function(t,e,n){"use strict";var i=n("oCYn"),a=n("jE9Z"),o={name:"AppHeader",data:function(){return{}},methods:{logout:function(){this.$store.dispatch("LogOut").then(function(){location.reload()})}}},r=(n("ghEq"),n("KHd+")),s=Object(r.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"app-header"},[e("img",{staticClass:"header-logo",attrs:{src:"https://yangyuji.github.io/vue-element-admin/static/img/logo.png"}}),this._v("vue-element-admin管理后台\n  "),e("el-dropdown",{staticClass:"avatar-container",attrs:{trigger:"click"}},[e("div",{staticClass:"avatar-wrapper"},[e("img",{staticClass:"user-avatar",attrs:{src:"https://yangyuji.github.io/vue-element-admin/static/img/logout.png"}}),this._v(" "),e("i",{staticClass:"el-icon-caret-bottom"})]),this._v(" "),e("el-dropdown-menu",{staticClass:"user-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[e("router-link",{staticClass:"inlineBlock",attrs:{to:"/"}},[e("el-dropdown-item",[this._v("返回首页")])],1),this._v(" "),e("el-dropdown-item",{attrs:{divided:""}},[e("span",{staticStyle:{display:"block"},on:{click:this.logout}},[this._v("退出登录")])])],1)],1)],1)},[],!1,null,"15ec3113",null);s.options.__file="index.vue";var c=s.exports,u=n("QbLZ"),l=n.n(u),d=n("L2JU"),p=n("m1cH"),m=n.n(p),f=n("33yf"),h=n.n(f),g={name:"SidebarItem",props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data:function(){return{onlyOneChild:null}},methods:{resolvePath:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.a.resolve.apply(h.a,[this.basePath].concat(m()(e)))}}},v=(n("1Dam"),Object(r.a)(g,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item.hidden?t._e():n("el-submenu",{attrs:{index:t.item.path}},[n("template",{slot:"title"},[t.item.meta&&t.item.meta.icon?n("i",{class:t.item.meta.icon,staticStyle:{"margin-right":"0"}}):t._e(),t._v(" "),t.item.meta&&t.item.meta.title?n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.item.meta.title))]):t._e()]),t._v(" "),t._l(t.item.children,function(e){return e.hidden?t._e():[n("router-link",{key:e.name,attrs:{to:t.resolvePath(e.path)}},[n("el-menu-item",{staticStyle:{"padding-left":"48px"},attrs:{index:t.resolvePath(e.path)}},[e.meta&&e.meta.title?n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.meta.title))]):t._e()])],1)]})],2)},[],!1,null,"45a7250f",null));v.options.__file="sidebarItem.vue";var _={components:{SidebarItem:v.exports},data:function(){return{openeds:["/examples"]}},computed:l()({},Object(d.b)(["permission_routers","sidebar"]),{isSamePath:function(){var t=this.$route.path.indexOf("/list");return t>0?this.$route.path.substr(0,t):this.$route.path},isCollapse:function(){return!this.sidebar.opened}}),methods:{menuOpen:function(t){this.openeds.indexOf(t)<0&&this.openeds.push(t)}}},b=Object(r.a)(_,function(){var t=this.$createElement,e=this._self._c||t;return e("el-menu",{attrs:{mode:"vertical","default-active":this.isSamePath,collapse:this.isCollapse,"default-openeds":this.openeds,"background-color":"rgba(38, 38, 38, 1)","text-color":"#fff","active-text-color":"#409EFF"},on:{open:this.menuOpen}},this._l(this.permission_routers,function(t){return e("sidebar-item",{key:t.name,attrs:{item:t,"base-path":t.path}})}),1)},[],!1,null,null,null);b.options.__file="index.vue";var y=b.exports,O={name:"AppMain",computed:{key:function(){return void 0!==this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}}},w=(n("/lx2"),Object(r.a)(O,function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"app-main"},[e("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[e("router-view",{key:this.key})],1)],1)},[],!1,null,"17630be9",null));w.options.__file="index.vue";var k=w.exports,x={created:function(){this.getBreadcrumb()},data:function(){return{levelList:null}},watch:{$route:function(){this.getBreadcrumb()}},methods:{getBreadcrumb:function(){var t=this.$route.matched.filter(function(t){return t.name});console.log("breadcrumb",t),t=[{path:"/desktop",meta:{title:"首页"}}].concat(t),this.levelList=t}}},E=(n("dJOx"),Object(r.a)(x,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[n("transition-group",{attrs:{name:"breadcrumb"}},t._l(t.levelList,function(e,i){return e.meta.title?n("el-breadcrumb-item",{key:e.path},["noredirect"===e.redirect||i==t.levelList.length-1?n("span",{staticClass:"no-redirect"},[t._v(t._s(e.meta.title))]):n("router-link",{attrs:{to:e.redirect||e.path}},[t._v(t._s(e.meta.title))])],1):t._e()}),1)],1)},[],!1,null,"2c01878d",null));E.options.__file="index.vue";var S={name:"layout",data:function(){return{}},components:{appHeader:c,Breadcrumb:E.exports,Sidebar:y,AppMain:k},methods:{logout:function(){this.$store.dispatch("LogOut").then(function(){location.reload()})}}},j=(n("ljKg"),Object(r.a)(S,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-wrapper"},[e("app-header"),this._v(" "),e("div",{staticClass:"app-body"},[e("sidebar",{staticClass:"sidebar-container"}),this._v(" "),e("div",{staticClass:"main-container"},[e("el-menu",{staticClass:"main-navbar",attrs:{mode:"horizontal","default-active":"1"}},[e("breadcrumb")],1),this._v(" "),e("app-main")],1)],1)],1)},[],!1,null,"031562dc",null));j.options.__file="index.vue";var C=j.exports,T={data:function(){return{message:"这个页面你不能进......"}}},$=(n("rMOh"),Object(r.a)(T,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{background:"#f0f2f5","margin-top":"-68px",height:"100%"}},[n("div",{staticClass:"wscn-http404"},[t._m(0),t._v(" "),n("div",{staticClass:"bullshit"},[n("div",{staticClass:"bullshit__oops"},[t._v("OOPS!")]),t._v(" "),n("div",{staticClass:"bullshit__info"},[t._v("版权所有")]),t._v(" "),n("div",{staticClass:"bullshit__headline"},[t._v(t._s(t.message))]),t._v(" "),n("div",{staticClass:"bullshit__info"},[t._v("请检查您输入的网址是否正确，请点击以下按钮返回主页或者发送错误报告")]),t._v(" "),n("a",{staticClass:"bullshit__return-home",attrs:{href:"javascript:history.go(-1)"}},[t._v("返回首页")])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pic-404"},[e("img",{staticClass:"pic-404__parent",attrs:{src:"https://yangyuji.github.io/vue-element-admin/static/img/404.png",alt:"404"}}),this._v(" "),e("img",{staticClass:"pic-404__child left",attrs:{src:"https://yangyuji.github.io/vue-element-admin/static/img/404_cloud.png",alt:"404"}}),this._v(" "),e("img",{staticClass:"pic-404__child mid",attrs:{src:"https://yangyuji.github.io/vue-element-admin/static/img/404_cloud.png",alt:"404"}}),this._v(" "),e("img",{staticClass:"pic-404__child right",attrs:{src:"https://yangyuji.github.io/vue-element-admin/static/img/404_cloud.png",alt:"404"}})])}],!1,null,"45864d7c",null));$.options.__file="index.vue";var R=$.exports;n.d(e,"b",function(){return L}),n.d(e,"a",function(){return A}),i.default.use(a.a);var L=[{path:"/login",component:function(){return n.e("chunk-f877").then(n.bind(null,"ntYl"))},hidden:!0},{path:"/404",name:"404",component:R,hidden:!0},{path:"/",component:C,redirect:"/desktop",name:"desktop",hidden:!0,children:[{path:"desktop",component:function(){return n.e("chunk-992a").then(n.bind(null,"VWwb"))}}]}],A=(e.c=new a.a({scrollBehavior:function(){return{y:0}},routes:L}),[{name:"使用实例",path:"/examples",component:C,redirect:"/examples/table/list",meta:{title:"使用实例",icon:"el-icon-tickets",roles:["admin"]},children:[{name:"数据列表",path:"table/list",component:function(){return n.e("chunk-06ea").then(n.bind(null,"dtNJ"))},meta:{title:"数据列表",roles:["admin"]}},{name:"新增表单",meta:{title:"新增表单"},path:"table/add",hidden:!0,props:!0,component:function(){return n.e("chunk-298d").then(n.bind(null,"CjlV"))}},{name:"编辑表单",meta:{title:"编辑表单"},path:"table/edit/:id",hidden:!0,props:!0,component:function(){return n.e("chunk-298d").then(n.bind(null,"CjlV"))}}]},{path:"/debug",component:C,redirect:"/debug/index",name:"系统日志",meta:{title:"系统日志",icon:"el-icon-setting",roles:["admin"]},children:[{name:"错误日志",meta:{title:"错误日志"},path:"index",props:!0,component:function(){return n.e("SehU").then(n.bind(null,"SehU"))}}]},{path:"*",redirect:"/404",hidden:!0}])},qLZd:function(t,e,n){},rMOh:function(t,e,n){"use strict";var i=n("X5t9");n.n(i).a},"sg+I":function(t,e,n){},t3Un:function(t,e,n){"use strict";var i=n("4d7F"),a=n.n(i),o=n("vDqi"),r=n.n(o),s=n("XJYT"),c=n("Q2AE"),u=n("X4fA"),l=r.a.create({baseURL:"/",timeout:15e3});l.interceptors.request.use(function(t){return c.a.getters.token&&(t.headers["Admin-Token"]=Object(u.a)()),t},function(t){a.a.reject(t)}),l.interceptors.response.use(function(t){var e=t.data;return"0000"!==e.code?(50008===e.code?s.MessageBox.confirm("你已被登出，可以取消继续留在该页面，或者重新登录","确定登出",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then(function(){c.a.dispatch("FedLogOut").then(function(){location.reload()})}):Object(s.Message)({message:e.msg,type:"error",duration:5e3}),console.log("api error: "+e),a.a.reject(e)):t.data},function(t){return console.log("http error: ",t),Object(s.Message)({message:t.message,type:"error",duration:5e3}),a.a.reject(t)}),e.a=l},vfBu:function(t,e,n){}},[["Vtdi","runtime","element-ui","vendors"]]]);